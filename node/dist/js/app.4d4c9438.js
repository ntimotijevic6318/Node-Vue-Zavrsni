(function(e){function t(t){for(var n,r,i=t[0],l=t[1],c=t[2],m=0,f=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={app:0},o=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),a("router-link",{attrs:{to:"/edit"}},[e._v("New Message")])],1),a("router-view")],1)},o=[],r=a("5530"),i=a("2f62"),l={name:"App",methods:Object(r["a"])({},Object(i["b"])(["load_messages"])),mounted:function(){this.load_messages()}},c=l,u=(a("034f"),a("2877")),m=Object(u["a"])(c,s,o,!1,null,null,null),f=m.exports,d=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Header"),a("b-container",[a("b-row",[a("b-col",{attrs:{cm:"6"}},[a("MessageList")],1)],1)],1)],1)},h=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-jumbotron",{attrs:{header:"Tabla sa porukama",lead:"Trenutni broj poruka je: "+e.messages.length}})],1)},b=[],v={name:"Header",computed:Object(r["a"])({},Object(i["c"])(["messages"]))},_=v,k=Object(u["a"])(_,g,b,!1,null,"1e4c30a4",null),j=k.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.messages.length?a("b-table",{attrs:{hover:"","sticky-header":"800px",items:e.messages,fields:e.fields,"head-variant":"light"},on:{"row-clicked":e.editMessage},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return e.delete_message(t.item.idTelefona)}}},[e._v("Delete")])]}}],null,!1,3460691543)}):a("h1",[e._v("No messages")])],1)},O=[],w={name:"MessageList",computed:Object(r["a"])({},Object(i["c"])(["messages"])),data:function(){return{fields:[{key:"idTelefona"},{key:"markaTelefona"},{key:"modelTelefona"},{key:"action"}]}},methods:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["delete_message"])),{},{editMessage:function(e){se.push({path:"/message/".concat(e.idTelefona)})}})},T=w,M=(a("e3b5"),Object(u["a"])(T,y,O,!1,null,null,null)),x=M.exports,S={name:"home",components:{Header:j,MessageList:x}},E=S,$=Object(u["a"])(E,p,h,!1,null,"82a00142",null),H=$.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("b-container",[a("b-row",[a("b-col",{attrs:{cm:"6"}},[e.edit?a("div",[a("EditMessage",{attrs:{"ma-tel":e.message.markaTelefona,"mo-tel":e.message.modelTelefona}})],1):a("div",[e.messages.length?a("ShowMessage",{attrs:{message:e.message}}):e._e()],1)])],1),a("b-row",[a("b-col",{staticStyle:{"margin-top":"10px"},attrs:{cm:"2"}},[a("b-button",{attrs:{variant:"primary",size:"lg"},domProps:{innerHTML:e._s(e.edit?"Cancel":"Edit")},on:{click:e.toggleEdit}})],1)],1)],1)],1)},C=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-form",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{sm:"2",offset:"2"}},[a("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"Marka telefona"},model:{value:e.marka,callback:function(t){e.marka=t},expression:"marka"}})],1),a("b-col",{attrs:{sm:"5"}},[a("b-form-textarea",{attrs:{placeholder:"Model telefona"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),a("b-col",{attrs:{sm:"1"}},[a("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:e.addNew}},[e._v("Sacuvaj")])],1)],1)],1)],1)},L=[],J={name:"EditMessage",props:{MaTel:{type:String,default:""},MoTel:{type:String,default:""}},data:function(){return{marka:"",model:""}},mounted:function(){this.marka=this.MaTel,this.model=this.MoTel},methods:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["new_message","change_message"])),{},{addNew:function(){var e=JSON.stringify({markaTelefona:this.marka,modelTelefona:this.model});this.$route.params.id?this.change_message({id:this.$route.params.id,msg:e}):this.new_message(e),this.marka="",this.model=""}})},z=J,I=Object(u["a"])(z,N,L,!1,null,"61f0f13d",null),A=I.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"2"}},[a("label",{attrs:{for:"markaTelefona"}},[e._v("Marka telefona:")])]),a("b-col",{attrs:{sm:"10"}},[a("p",{staticStyle:{"text-align":"left"},attrs:{id:"markaTelefona"}},[e._v(e._s(e.message.markaTelefona))])])],1),a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{sm:"2"}},[a("label",{attrs:{for:"modelTelefona"}},[e._v("Marka telefona:")])]),a("b-col",{attrs:{sm:"10"}},[a("p",{staticStyle:{"text-align":"left"},attrs:{id:"modelTelefona"}},[e._v(e._s(e.message.modelTelefona))])])],1)],1)},q=[],B={name:"ShowMessage",props:{message:Object}},F=B,G=Object(u["a"])(F,D,q,!1,null,null,null),K=G.exports,Q={name:"Message",components:{Header:j,EditMessage:A,ShowMessage:K},data:function(){return{edit:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(i["c"])(["messages"])),{},{message:function(){for(var e=0;e<this.messages.length;e++)if(this.messages[e].idTelefona===parseInt(this.$route.params.id))return this.messages[e]}}),methods:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["load_messages"])),{},{toggleEdit:function(){this.edit=!this.edit}})},R=Q,U=Object(u["a"])(R,P,C,!1,null,"d5da910a",null),V=U.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("Header"),a("b-container",[a("b-row",[a("b-col",{attrs:{cm:"6"}},[a("EditMessage")],1)],1)],1)],1)},X=[],Y={name:"NewMessage",components:{Header:j,EditMessage:A}},Z=Y,ee=Object(u["a"])(Z,W,X,!1,null,"58d86220",null),te=ee.exports;n["default"].use(d["a"]);var ae=[{path:"/",name:"Home",component:H},{path:"/edit",name:"NewMessage",component:te},{path:"/message/:id",name:"message",component:V}],ne=new d["a"]({mode:"history",base:"/",routes:ae}),se=ne;a("a434"),a("d3b7");n["default"].use(i["a"]);var oe=new i["a"].Store({state:{messages:[]},mutations:{set_messages:function(e,t){e.messages=t},add_message:function(e,t){e.messages.push(t)},remove_message:function(e,t){for(var a=0;a<e.messages.length;a++)if(e.messages[a].id===t){e.messages.splice(a,1);break}},update_message:function(e,t){for(var a=0;a<e.messages.length;a++)if(e.messages[a].id===parseInt(t.id)){e.messages[a].markaTelefona=t.msg.markaTelefona,e.messages[a].message=t.msg.modelTelefona;break}}},actions:{load_messages:function(e){var t=e.commit;fetch("http://localhost:1000/api/poruke",{method:"get"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){t("set_messages",e)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},delete_message:function(e,t){var a=e.commit;fetch("http://localhost:1000/api/poruka/".concat(t),{method:"delete"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){a("remove_message",e.id)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},new_message:function(e,t){var a=e.commit;fetch("http://localhost:1000/api/poruke",{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){a("add_message",e)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},change_message:function(e,t){var a=e.commit;fetch("http://localhost:1000/api/poruka/".concat(t.id),{method:"put",headers:{"Content-Type":"application/json"},body:t.msg}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){a("update_message",{id:t.id,msg:e})})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))}}}),re=a("5f5b");a("f9e3"),a("2dd8");n["default"].use(re["a"]),n["default"].config.productionTip=!1,new n["default"]({router:se,store:oe,render:function(e){return e(f)}}).$mount("#app")},"59fc":function(e,t,a){},"85ec":function(e,t,a){},e3b5:function(e,t,a){"use strict";a("59fc")}});
//# sourceMappingURL=app.4d4c9438.js.map